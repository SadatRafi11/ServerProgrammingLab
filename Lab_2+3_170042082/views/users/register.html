<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
  </head>
  <body>
    <h1>Registration Page</h1>
    <form action="/users/register" method="POST">
      <div>
        <label for="username"><b>Username</b></label>
        <input type="text" placeholder="Choose a username" name="username" required/>
      </div>
      <div>
        <label for="email"><b>E-mail</b></label>
        <input type="email" placeholder="Type in your email" name="email" required/>
      </div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <div>
        <label for="password"><b>Password</b></label>
        <input type="password" id="txtNewPassword" name="password" placeholder="Enter passward" 
        pattern=".{6,}" title="Must contain at least 6 or more characters!" required/>
      </div>
      <div>
        <label for="confirmPassword"><b>Re-type Password</b></label>
        <input type="password" id="txtConfirmPassword" name="confirmPassword" placeholder="Confirm passward" 
        pattern=".{6,}" title="Must match the typed passward!" required/>
      </div>
      <div class="registrationFormAlert" id="CheckPasswordMatch"></div>
      <script>
        function checkPasswordMatch() {
          let pwd = $("#txtNewPassword").val();
          let cnfpwd = $("#txtConfirmPassword").val();
          let bttn = document.getElementById("sbmt");
          if (!pwd) {
            bttn.disabled = true;
            $("#CheckPasswordMatch").html("No other way round!").css("color", "orange");
          }
          else if (pwd != cnfpwd) {
            $("#CheckPasswordMatch").html("Passwords don't match!").css("color", "red");
            bttn.disabled = true;
          }
           else {
            $("#CheckPasswordMatch").html("Passwords match.").css("color", "green");
            bttn.disabled = false;
           }
        }
       $(document).ready(function () {
          $("#txtConfirmPassword").keyup(checkPasswordMatch);
          $("#txtConfirmPassword").mouseup(checkPasswordMatch);
          $("#txtNewPassword").keyup(checkPasswordMatch);
          $("#txtNewPassword").mouseup(checkPasswordMatch);
        });
      </script>
      <div>
        <button type="submit" id="sbmt" style="background-color:cornflowerblue">Register</button>
      </div>
    </form>
  </body>
</html>